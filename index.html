<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Ez script creator</title>
  <style>
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
    :root {
      --bg: #1a1b2e; --card: #16213e; --border: #252545;
      --accent: #00bfff; --text: #cdd6f4; --muted: #7788aa;
      --dimmed: #445566; --input-bg: #0d0d1a; --blue: #0078d4;
      --red: #f28b82; --green: #a6e3a1; --yellow: #f9e2af; --teal: #89dceb;
    }
    body {
      background: var(--bg); color: var(--text);
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      min-height: 100vh; padding: 24px 16px 60px;
      max-width: 700px; margin: 0 auto;
    }
    .header { margin-bottom: 20px; }
    .header h1 { color: var(--accent); font-size: 1.25rem; font-weight: 700; line-height: 1.4; margin-bottom: 6px; }
    .header p { color: var(--muted); font-size: 0.82rem; }
    .card { background: var(--card); border: 1px solid var(--border); border-radius: 10px; padding: 20px; margin-bottom: 18px; }
    .section-label { font-size: 0.68rem; font-weight: 700; text-transform: uppercase; letter-spacing: 1.2px; color: var(--dimmed); margin-bottom: 16px; }
    .field { margin-bottom: 16px; }
    .field:last-child { margin-bottom: 0; }
    label { display: block; font-size: 0.8rem; color: var(--muted); margin-bottom: 6px; }
    input[type="text"] {
      width: 100%; background: var(--input-bg); border: 1px solid var(--border);
      border-radius: 6px; padding: 10px 12px; color: var(--text);
      font-size: 0.88rem; outline: none; transition: border-color 0.2s;
    }
    input[type="text"]:focus { border-color: var(--accent); }
    input[type="text"]::placeholder { color: var(--dimmed); }
    .note { font-size: 0.73rem; color: var(--dimmed); margin-top: 6px; line-height: 1.5; }
    .note a { color: var(--accent); text-decoration: none; }
    .note a:hover { text-decoration: underline; }
    .upload-row { display: flex; align-items: flex-start; gap: 12px; margin-top: 4px; }
    .img-preview {
      width: 72px; height: 72px; background: var(--input-bg);
      border: 1px solid var(--border); border-radius: 8px; flex-shrink: 0;
      overflow: hidden; display: flex; align-items: center; justify-content: center;
      color: var(--dimmed); font-size: 0.65rem; text-align: center;
    }
    .img-preview img { width: 100%; height: 100%; object-fit: cover; display: none; }
    .upload-right { flex: 1; }
    .btn-upload { background: var(--blue); color: #fff; border: none; border-radius: 6px; padding: 8px 16px; font-size: 0.83rem; cursor: pointer; transition: background 0.2s; }
    .btn-upload:hover { background: #0065b3; }
    .upload-status { font-size: 0.75rem; color: var(--muted); margin-top: 6px; }
    .upload-status .hint { color: var(--dimmed); }
    .upload-progress { height: 4px; background: var(--border); border-radius: 2px; margin-top: 8px; display: none; overflow: hidden; }
    .upload-progress-bar { height: 100%; background: var(--accent); width: 0%; border-radius: 2px; transition: width 0.4s; }
    .upload-url { font-size: 0.72rem; margin-top: 6px; word-break: break-all; display: none; }
    .row2 { display: grid; grid-template-columns: 1fr 1fr; gap: 14px; }
    @media(max-width:480px) { .row2 { grid-template-columns: 1fr; } }

    /* Fluent Preview */
    .preview-label { font-size: 0.92rem; font-weight: 600; color: var(--text); margin-bottom: 14px; }
    .fluent-win { background: #1e1e32; border-radius: 10px; overflow: hidden; border: 1px solid var(--border); box-shadow: 0 8px 32px rgba(0,0,0,0.5); max-width: 420px; margin: 0 auto; }
    .f-titlebar { background: #26263a; display: flex; align-items: center; justify-content: space-between; padding: 8px 12px; border-bottom: 1px solid var(--border); }
    .f-titlebar-left { display: flex; align-items: center; gap: 8px; }
    .f-avatar { width: 26px; height: 26px; border-radius: 50%; background: var(--blue); display: flex; align-items: center; justify-content: center; font-size: 0.6rem; font-weight: 700; color: #fff; overflow: hidden; flex-shrink: 0; }
    .f-avatar img { width: 100%; height: 100%; object-fit: cover; border-radius: 50%; }
    .f-wintitle { font-size: 0.82rem; color: var(--text); max-width: 160px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
    .f-winsub { font-size: 0.62rem; color: var(--muted); }
    .f-winbtns { display: flex; gap: 5px; }
    .f-winbtn { width: 13px; height: 13px; border-radius: 50%; border: none; cursor: pointer; }
    .f-winbtn.min { background: #febc2e; }
    .f-winbtn.max { background: #28c840; }
    .f-winbtn.cls { background: #ff5f56; }
    .f-body { display: flex; min-height: 220px; }
    .f-sidebar { width: 140px; background: #16162a; border-right: 1px solid var(--border); padding: 8px 0; flex-shrink: 0; }
    .f-search { margin: 0 8px 8px; background: var(--input-bg); border: 1px solid var(--border); border-radius: 5px; padding: 5px 8px; font-size: 0.7rem; color: var(--dimmed); }
    .f-nav-item { display: flex; align-items: center; gap: 8px; padding: 8px 12px; font-size: 0.74rem; color: var(--muted); cursor: pointer; transition: background 0.15s, color 0.15s; border-radius: 0 6px 6px 0; margin-right: 6px; }
    .f-nav-item:hover { background: #252540; color: var(--text); }
    .f-nav-item.active { background: #2a2a50; color: var(--text); }
    .f-dot { width: 8px; height: 8px; border-radius: 50%; flex-shrink: 0; }
    .f-content { flex: 1; padding: 14px; overflow: hidden; }
    .f-tab-title { font-size: 0.82rem; font-weight: 700; color: var(--text); margin-bottom: 12px; }
    .f-row { display: flex; align-items: center; justify-content: space-between; padding-bottom: 10px; margin-bottom: 10px; border-bottom: 1px solid #252540; }
    .f-row:last-child { border-bottom: none; margin-bottom: 0; padding-bottom: 0; }
    .f-row-label { font-size: 0.73rem; color: var(--text); }
    .f-row-sub { font-size: 0.62rem; color: var(--dimmed); margin-top: 2px; }
    .f-toggle { width: 34px; height: 18px; border-radius: 9px; background: var(--blue); position: relative; cursor: pointer; flex-shrink: 0; transition: background 0.2s; }
    .f-toggle::after { content: ''; position: absolute; width: 14px; height: 14px; background: #fff; border-radius: 50%; top: 2px; right: 2px; transition: right 0.2s; }
    .f-toggle.off { background: #334455; }
    .f-toggle.off::after { right: 18px; }
    .f-select { background: var(--input-bg); border: 1px solid var(--border); border-radius: 4px; color: var(--text); font-size: 0.7rem; padding: 3px 6px; }
    .fluent-caption { text-align: center; font-size: 0.7rem; color: var(--dimmed); margin-top: 10px; font-style: italic; }

    /* Script Output */
    .script-card { background: #0a0a15; border: 1px solid var(--border); border-radius: 10px; overflow: hidden; margin-bottom: 18px; }
    .script-header { background: #14142a; padding: 8px 14px; display: flex; align-items: center; justify-content: space-between; border-bottom: 1px solid var(--border); }
    .script-filename { color: var(--accent); font-size: 0.84rem; font-family: 'Courier New', monospace; }
    .btn-copy { background: #252545; color: var(--text); border: none; border-radius: 5px; padding: 5px 14px; font-size: 0.8rem; cursor: pointer; transition: background 0.2s; }
    .btn-copy:hover { background: var(--blue); }
    .btn-copy.copied { background: #1e7c44; }
    .script-body { padding: 16px 18px; font-family: 'Courier New', Courier, monospace; font-size: 0.8rem; line-height: 1.8; }
    .c-comment { color: #6a7c8a; }
    .c-func { color: #cdd6f4; }
    .c-key { color: #cdd6f4; }
    .c-str { color: #e06c75; }
    .c-load { color: #e5c07b; }

    /* Toast */
    .toast { position: fixed; bottom: 24px; right: 24px; background: #1e7c44; color: #fff; padding: 10px 18px; border-radius: 8px; font-size: 0.85rem; opacity: 0; pointer-events: none; transition: opacity 0.3s; z-index: 9999; }
    .toast.show { opacity: 1; }

    /* L√¨ x√¨ canvas */
    #lixiCanvas { position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 99999; }
  </style>
</head>
<body>

<div class="header">
  <h1>T·∫°o BloxFruit c·ªßa ri√™ng b·∫°n m·ªôt c√°ch d·ªÖ d√†ng v√† nhanh ch√≥ng</h1>
  <p>T·∫°o web script mi·ªÖn ph√≠ kh√¥ng c·∫ßn ph·∫£i v∆∞·ª£t qua link nhanh h∆°n</p>
</div>

<div class="card">
  <div class="section-label">C√†i ƒê·∫∑t</div>
  <div class="field">
    <label>Kh√≥a API ImgBB (Kh√≥a API ImgBB)</label>
    <input type="text" id="apiKey" placeholder="ƒê·ªÉ tr·ªëng ƒë·ªÉ s·ª≠ d·ª•ng API c√≥ s·∫µn..."/>
    <div class="note">
      D√°n API Key v√†o ƒë√¢y ho·∫∑c b·ªè qua n·∫øu mu·ªën s·ª≠ d·ª•ng API c√≥ s·∫µn.<br>
      N·∫øu mu·ªën s·ª≠ d·ª•ng kh√≥a ri√™ng: <a href="https://api.imgbb.com/" target="_blank">L·∫•y t·∫°i ƒë√¢y</a>
    </div>
  </div>
  <div class="field">
    <label>Ti√™u ƒë·ªÅ Script (Ti√™u ƒë·ªÅ t·∫≠p l·ªánh)</label>
    <input type="text" id="scriptTitle" placeholder="V√≠ d·ª•: Blox Fruits Hub" oninput="liveUpdate()"/>
  </div>
  <div class="field">
    <label>Ph·ª• ƒë·ªÅ Script (Ti√™u ƒë·ªÅ ph·ª• c·ªßa script)</label>
    <input type="text" id="scriptSub" placeholder="V√≠ d·ª•: V1.0.0 - Kh√≥a b·∫£n quy·ªÅn mi·ªÖn ph√≠" oninput="liveUpdate()"/>
  </div>
  <div class="field">
    <label>H√¨nh ·∫¢nh Script (Upload l√™n ImgBB)</label>
    <div class="upload-row">
      <div class="img-preview" id="imgPreviewBox">
        <img id="imgPreviewEl" src="" alt=""/>
        <span id="imgPreviewText">Ch∆∞a c√≥ ·∫£nh</span>
      </div>
      <div class="upload-right">
        <button class="btn-upload" onclick="document.getElementById('fileInput').click()">Ch·ªçn t·ªáp</button>
        <input type="file" id="fileInput" accept="image/png,image/jpeg,image/gif,image/webp" style="display:none" onchange="handleUpload(this)"/>
        <div class="upload-status">
          <div id="uploadFname" style="color:var(--text)">Kh√¥ng c√≥ t·ªáp n√†o ƒë∆∞·ª£c ch·ªçn</div>
          <div class="hint">H·ªó tr·ª£ PNG, JPG. T·ª± ƒë·ªông t·∫£i l√™n v√† t·∫°o URL tr·ª±c ti·∫øp.</div>
        </div>
        <div class="upload-progress" id="uploadProgress">
          <div class="upload-progress-bar" id="uploadProgressBar"></div>
        </div>
        <div class="upload-url" id="uploadUrl"></div>
      </div>
    </div>
  </div>
  <div class="row2">
    <div class="field">
      <label>T√™n T√°c Gi·∫£ (Author Name)</label>
      <input type="text" id="authorName" placeholder="V√≠ d·ª•: Scripter123" oninput="liveUpdate()"/>
    </div>
    <div class="field">
      <label>Ph·ª• ƒê·ªÅ T√°c Gi·∫£ (Ti√™u ƒë·ªÅ ph·ª• c·ªßa t√°c gi·∫£)</label>
      <input type="text" id="authorSub" placeholder="V√≠ d·ª•: Discord: @xyz" oninput="liveUpdate()"/>
    </div>
  </div>
</div>

<div class="card">
  <div class="preview-label">Xem Tr∆∞·ªõc Giao Di·ªán (Fluent UI)</div>
  <div class="fluent-win">
    <div class="f-titlebar">
      <div class="f-titlebar-left">
        <div class="f-avatar" id="fAvatar">AC</div>
        <div>
          <div class="f-wintitle" id="fWinTitle">T√™n c·ªßa b·∫°n</div>
          <div class="f-winsub" id="fWinSub">ƒêƒÉng k√Ω v√† th√≠ch</div>
        </div>
      </div>
      <div class="f-winbtns">
        <button class="f-winbtn min"></button>
        <button class="f-winbtn max"></button>
        <button class="f-winbtn cls"></button>
      </div>
    </div>
    <div class="f-body">
      <div class="f-sidebar">
        <div class="f-search">T√¨m m·ªôt c√°i g√¨ ƒë√≥</div>
        <div class="f-nav-item"><span class="f-dot" style="background:var(--red)"></span>Tab C·ª≠a h√†ng</div>
        <div class="f-nav-item active"><span class="f-dot" style="background:var(--teal)"></span>Tab C·∫•u h√¨nh Trang tr·∫°i</div>
        <div class="f-nav-item"><span class="f-dot" style="background:var(--green)"></span>Tab N√¥ng nghi·ªáp</div>
        <div class="f-nav-item"><span class="f-dot" style="background:var(--yellow)"></span>Tab m·ª•c</div>
      </div>
      <div class="f-content">
        <div class="f-tab-title">Tab C·∫•u h√¨nh Trang tr·∫°i</div>
        <div class="f-row">
          <div>
            <div class="f-row-label">Xe bu√Ωt t·ª± ƒë·ªông</div>
            <div class="f-row-sub">T·ª± ƒë·ªông th√°m hi·ªÉm trang th√°i</div>
          </div>
          <div class="f-toggle" onclick="this.classList.toggle('off')"></div>
        </div>
        <div class="f-row">
          <div>
            <div class="f-row-label">Ch·ªçn c√¥ng c·ª•</div>
            <div class="f-row-sub">Ch·ªçn c√¥ng c·ª• y√™u th√≠ch</div>
          </div>
          <select class="f-select">
            <option>C√¢n chi·∫øn</option>
            <option>Ki·∫øm</option>
            <option>S√∫ng</option>
          </select>
        </div>
        <div class="f-row">
          <div>
            <div class="f-row-label">T·ª± ƒë·ªông c·∫•p ƒë·ªô trang tr·∫°i</div>
            <div class="f-row-sub">B·∫Øt ƒë·∫ßu ti√™u di·ªát qu√°i v·∫≠t</div>
          </div>
          <div class="f-toggle off" onclick="this.classList.toggle('off')"></div>
        </div>
      </div>
    </div>
  </div>
  <div class="fluent-caption">* Phong c√°ch m√¥ ph·ªèng giao di·ªán Fluent UI</div>
</div>

<div class="script-card">
  <div class="script-header">
    <span class="script-filename">script.lua</span>
    <button class="btn-copy" id="copyBtn" onclick="copyScript()">Sao Ch√©p</button>
  </div>
  <div class="script-body">
<span class="c-comment">-- this script created at https://lambloxfruitscript.vercel.app/</span><br>
<span class="c-func">getgenv</span>().<span class="c-func">ScriptTitle</span> = <span class="c-str" id="o-title">"Script Title"</span><br>
<span class="c-func">getgenv</span>().<span class="c-func">ScriptSubTitle</span> = <span class="c-str" id="o-sub">"Script Sub Title"</span><br>
<span class="c-func">getgenv</span>().<span class="c-func">ScriptImage</span> = <span class="c-str" id="o-img">"IMAGE_URL_HERE"</span><br>
<span class="c-func">getgenv</span>().<span class="c-func">ScriptAuthorName</span> = <span class="c-str" id="o-author">"Author Name"</span><br>
<span class="c-func">getgenv</span>().<span class="c-func">ScriptAuthorSubTitle</span> = <span class="c-str" id="o-authorsub">"Author Info"</span><br>
<span class="c-load">loadstring</span>(<span class="c-func">game</span>:<span class="c-func">HttpGet</span>(<span class="c-str">"https://raw.githubusercontent.com/hoannhatz/Script/refs/heads/main/EZScript.lua"</span>))()
  </div>
</div>

<div class="toast" id="toast">‚úì ƒê√£ sao ch√©p v√†o clipboard!</div>
<canvas id="lixiCanvas"></canvas>

<script>
  // ‚îÄ‚îÄ Live update ‚îÄ‚îÄ
  let imageUrl = 'IMAGE_URL_HERE';

  function liveUpdate() {
    const title  = document.getElementById('scriptTitle').value.trim() || 'Script Title';
    const sub    = document.getElementById('scriptSub').value.trim()   || 'Script Sub Title';
    const author = document.getElementById('authorName').value.trim()  || 'Author Name';
    const asub   = document.getElementById('authorSub').value.trim()   || 'Author Info';
    document.getElementById('o-title').textContent     = `"${title}"`;
    document.getElementById('o-sub').textContent       = `"${sub}"`;
    document.getElementById('o-author').textContent    = `"${author}"`;
    document.getElementById('o-authorsub').textContent = `"${asub}"`;
    document.getElementById('fWinTitle').textContent   = title;
    document.getElementById('fWinSub').textContent     = sub;
    const avatarEl = document.getElementById('fAvatar');
    if (!avatarEl.querySelector('img')) {
      avatarEl.textContent = title.split(' ').slice(0,2).map(w=>w[0]||'').join('').toUpperCase() || 'AC';
    }
  }

  // ‚îÄ‚îÄ Upload ‚îÄ‚îÄ
  function handleUpload(input) {
    const file = input.files[0]; if (!file) return;
    document.getElementById('uploadFname').textContent = file.name;
    const reader = new FileReader();
    reader.onload = e => {
      const img = document.getElementById('imgPreviewEl');
      img.src = e.target.result; img.style.display = 'block';
      document.getElementById('imgPreviewText').style.display = 'none';
      const avatar = document.getElementById('fAvatar');
      avatar.innerHTML = `<img src="${e.target.result}" style="width:100%;height:100%;object-fit:cover;border-radius:50%"/>`;
    };
    reader.readAsDataURL(file);
    const apiKey = document.getElementById('apiKey').value.trim() || 'b41a5f8e4e7e41c4ebf3e01d0c9a3f94';
    const prog = document.getElementById('uploadProgress');
    const bar  = document.getElementById('uploadProgressBar');
    const urlEl = document.getElementById('uploadUrl');
    prog.style.display = 'block'; urlEl.style.display = 'none'; bar.style.width = '30%';
    const fd = new FormData(); fd.append('image', file);
    fetch(`https://api.imgbb.com/1/upload?key=${apiKey}`, {method:'POST', body:fd})
      .then(r=>r.json())
      .then(data => {
        bar.style.width = '100%';
        setTimeout(()=>{prog.style.display='none'; bar.style.width='0%';}, 700);
        if (data.data && data.data.url) {
          imageUrl = data.data.url;
          document.getElementById('o-img').textContent = `"${imageUrl}"`;
          urlEl.style.color = 'var(--green)';
          urlEl.textContent = '‚úì Upload th√†nh c√¥ng! URL: ' + imageUrl;
        } else {
          urlEl.style.color = 'var(--red)';
          urlEl.textContent = '‚úó Upload th·∫•t b·∫°i. Ki·ªÉm tra l·∫°i API key.';
        }
        urlEl.style.display = 'block';
      })
      .catch(()=>{
        bar.style.background = 'var(--red)'; bar.style.width = '100%';
        setTimeout(()=>{prog.style.display='none'; bar.style.width='0%'; bar.style.background='';}, 700);
        urlEl.style.color = 'var(--red)';
        urlEl.textContent = '‚úó L·ªói k·∫øt n·ªëi. Kh√¥ng upload ƒë∆∞·ª£c ·∫£nh.';
        urlEl.style.display = 'block';
      });
  }

  // ‚îÄ‚îÄ Copy ‚îÄ‚îÄ
  function copyScript() {
    const title  = document.getElementById('scriptTitle').value.trim() || 'Script Title';
    const sub    = document.getElementById('scriptSub').value.trim()   || 'Script Sub Title';
    const author = document.getElementById('authorName').value.trim()  || 'Author Name';
    const asub   = document.getElementById('authorSub').value.trim()   || 'Author Info';
    const text = `-- this script created at https://lambloxfruitscript.vercel.app/\ngetgenv().ScriptTitle = "${title}"\ngetgenv().ScriptSubTitle = "${sub}"\ngetgenv().ScriptImage = "${imageUrl}"\ngetgenv().ScriptAuthorName = "${author}"\ngetgenv().ScriptAuthorSubTitle = "${asub}"\nloadstring(game:HttpGet("https://raw.githubusercontent.com/hoannhatz/Script/refs/heads/main/EZScript.lua"))()`;
    navigator.clipboard.writeText(text).then(()=>{
      const btn = document.getElementById('copyBtn');
      btn.textContent = 'ƒê√£ sao ch√©p!'; btn.classList.add('copied');
      setTimeout(()=>{btn.textContent='Sao Ch√©p'; btn.classList.remove('copied');}, 2000);
      const toast = document.getElementById('toast');
      toast.classList.add('show');
      setTimeout(()=>toast.classList.remove('show'), 2500);
    });
  }

  // ‚îÄ‚îÄ Sidebar tabs ‚îÄ‚îÄ
  document.querySelectorAll('.f-nav-item').forEach(item => {
    item.addEventListener('click', () => {
      document.querySelectorAll('.f-nav-item').forEach(i => i.classList.remove('active'));
      item.classList.add('active');
    });
  });

  // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
  // ‚îÄ‚îÄ Hi·ªáu ·ª©ng L√å X√å R∆†I ‚îÄ‚îÄ
  // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
  const canvas = document.getElementById('lixiCanvas');
  const ctx = canvas.getContext('2d');

  function resizeCanvas() {
    canvas.width  = window.innerWidth;
    canvas.height = window.innerHeight;
  }
  resizeCanvas();
  window.addEventListener('resize', resizeCanvas);

  const COUNT = 12;
  const packets = [];

  function drawPacket(x, y, rot, sc) {
    ctx.save();
    ctx.translate(x, y);
    ctx.rotate(rot);
    ctx.scale(sc, sc);
    ctx.font = '28px serif';
    ctx.textAlign = 'center';
    ctx.textBaseline = 'middle';
    ctx.fillText('üßß', 0, 0);
    ctx.restore();
  }

  function spawnPacket(spreadY) {
    return {
      x:     Math.random() * window.innerWidth,
      y:     spreadY ? Math.random() * window.innerHeight : -70 - Math.random()*160,
      vx:    (Math.random()-0.5) * 1.5,
      vy:    1.3 + Math.random() * 2.4,
      rot:   Math.random() * Math.PI * 2,
      vrot:  (Math.random()-0.5) * 0.06,
      sc:    0.6 + Math.random() * 0.8,
      op:    0.85 + Math.random() * 0.15,
      sw:    Math.random() * Math.PI * 2,
      swSpd: 0.016 + Math.random() * 0.024,
    };
  }

  for (let i = 0; i < COUNT; i++) packets.push(spawnPacket(true));

  function animateLixi() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    for (const p of packets) {
      p.sw   += p.swSpd;
      p.x    += p.vx + Math.sin(p.sw) * 1.0;
      p.y    += p.vy;
      p.rot  += p.vrot;
      ctx.globalAlpha = p.op;
      drawPacket(p.x, p.y, p.rot, p.sc);
      if (p.y > window.innerHeight + 90) Object.assign(p, spawnPacket(false));
    }
    ctx.globalAlpha = 1;
    requestAnimationFrame(animateLixi);
  }
  animateLixi();
</script>
</body>
</html>
